<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.107.0">
    <meta name="description" content="">


    <link rel="icon" href="../CF/images/crossIcon1.png" type="image/png">

    <title>Multi Viewport :: CrossForge</title>

    
    <link href="../CF/css/nucleus.css?1701724215" rel="stylesheet">
    <link href="../CF/css/fontawesome-all.min.css?1701724215" rel="stylesheet">
    <link href="../CF/css/hybrid.css?1701724215" rel="stylesheet">
    <link href="../CF/css/featherlight.min.css?1701724215" rel="stylesheet">
    <link href="../CF/css/perfect-scrollbar.min.css?1701724215" rel="stylesheet">
    <link href="../CF/css/auto-complete.css?1701724215" rel="stylesheet">
    <link href="../CF/css/atom-one-dark-reasonable.css?1701724215" rel="stylesheet">
    <link href="../CF/css/theme.css?1701724215" rel="stylesheet">
    <link href="../CF/css/tabs.css?1701724215" rel="stylesheet">
    <link href="../CF/css/hugo-theme.css?1701724215" rel="stylesheet">
    
    <link href="../CF/css/theme-blue.css?1701724215" rel="stylesheet">
    
    

    <script src="../CF/js/jquery-3.3.1.min.js?1701724215"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="../CF/advanced_concepts/multi_viewport.html">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <h3><a href="http://localhost:1313/"> <img src="../CrossForgeLogo2.png" alt=""/></a></h3>
    </div>
    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='../'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/CF/basic_concepts.html" title="Basic Concepts" class="dd-item
        
        
        
        ">
      <a href="../CF/basic_concepts.html">
          Basic Concepts
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/CF/basic_concepts/getting_started.html" title="Installation" class="dd-item ">
        <a href="../CF/basic_concepts/getting_started.html">
        Installation
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/basic_concepts/basic_structure.html" title="Basic Program Structure" class="dd-item ">
        <a href="../CF/basic_concepts/basic_structure.html">
        Basic Program Structure
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/basic_concepts/graphics_pipeline.html" title="Graphics Pipeline Structure" class="dd-item ">
        <a href="../CF/basic_concepts/graphics_pipeline.html">
        Graphics Pipeline Structure
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/basic_concepts/using_assets.html" title="Loading and Storing Assets" class="dd-item ">
        <a href="../CF/basic_concepts/using_assets.html">
        Loading and Storing Assets
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/basic_concepts/putting_it_all_together.html" title="Putting it all together" class="dd-item ">
        <a href="../CF/basic_concepts/putting_it_all_together.html">
        Putting it all together
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/CF/advanced_concepts.html" title="Advanced Concepts" class="dd-item
        parent
        
        
        ">
      <a href="../CF/advanced_concepts.html">
          Advanced Concepts
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/CF/advanced_concepts/input.html" title="Handling Input" class="dd-item ">
        <a href="../CF/advanced_concepts/input.html">
        Handling Input
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/advanced_concepts/multi_viewport.html" title="Multi Viewport" class="dd-item active">
        <a href="../CF/advanced_concepts/multi_viewport.html">
        Multi Viewport
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/advanced_concepts/material_system.html" title="PBS Material System" class="dd-item ">
        <a href="../CF/advanced_concepts/material_system.html">
        PBS Material System
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/advanced_concepts/shader.html" title="Shader System" class="dd-item ">
        <a href="../CF/advanced_concepts/shader.html">
        Shader System
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/advanced_concepts/callback_system.html" title="Callback System" class="dd-item ">
        <a href="../CF/advanced_concepts/callback_system.html">
        Callback System
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/advanced_concepts/sockets.html" title="Sockets" class="dd-item ">
        <a href="../CF/advanced_concepts/sockets.html">
        Sockets
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/advanced_concepts/platform_independency.html" title="Keeping Platform Independency " class="dd-item ">
        <a href="../CF/advanced_concepts/platform_independency.html">
        Keeping Platform Independency 
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/CF/graphics_lectures.html" title="Graphical Lectures" class="dd-item
        
        
        
        ">
      <a href="../CF/graphics_lectures.html">
          Graphical Lectures
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/CF/graphics_lectures/moving_objects.html" title="Moving Objects" class="dd-item
        
        
        
        ">
      <a href="../CF/graphics_lectures/moving_objects.html">
          Moving Objects
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/CF/graphics_lectures/moving_objects/transformation.html" title="Transformations" class="dd-item
        
        
        
        ">
      <a href="../CF/graphics_lectures/moving_objects/transformation.html">
          Transformations
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/moving_objects/transformation/example.html" title="Solarsystem 1" class="dd-item ">
        <a href="../CF/graphics_lectures/moving_objects/transformation/example.html">
        Solarsystem 1
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/CF/graphics_lectures/moving_objects/scenegraph.html" title="Scenegraph" class="dd-item
        
        
        
        ">
      <a href="../CF/graphics_lectures/moving_objects/scenegraph.html">
          Scenegraph
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/moving_objects/scenegraph/example.html" title="Solarsystem 2" class="dd-item ">
        <a href="../CF/graphics_lectures/moving_objects/scenegraph/example.html">
        Solarsystem 2
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/moving_objects/virtual_camera.html" title="Virtual Camera" class="dd-item ">
        <a href="../CF/graphics_lectures/moving_objects/virtual_camera.html">
        Virtual Camera
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/moving_objects/frustum_culling.html" title="View Frustum Culling" class="dd-item ">
        <a href="../CF/graphics_lectures/moving_objects/frustum_culling.html">
        View Frustum Culling
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/CF/graphics_lectures/lighting.html" title="Lighting" class="dd-item
        
        
        
        ">
      <a href="../CF/graphics_lectures/lighting.html">
          Lighting
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/lighting/pbr.html" title="Physically Based Shading" class="dd-item ">
        <a href="../CF/graphics_lectures/lighting/pbr.html">
        Physically Based Shading
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/lighting/light_sources.html" title="Light Sources" class="dd-item ">
        <a href="../CF/graphics_lectures/lighting/light_sources.html">
        Light Sources
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/lighting/shadows.html" title="Casting Shadows" class="dd-item ">
        <a href="../CF/graphics_lectures/lighting/shadows.html">
        Casting Shadows
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/CF/graphics_lectures/animations.html" title="All about Animations" class="dd-item
        
        
        
        ">
      <a href="../CF/graphics_lectures/animations.html">
          All about Animations
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/animations/morphing.html" title="Morphing" class="dd-item ">
        <a href="../CF/graphics_lectures/animations/morphing.html">
        Morphing
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/animations/skeletal_animation.html" title="Skeletal Animation" class="dd-item ">
        <a href="../CF/graphics_lectures/animations/skeletal_animation.html">
        Skeletal Animation
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/CF/graphics_lectures/fun_with_textures.html" title="Fun with Textures" class="dd-item
        
        
        
        ">
      <a href="../CF/graphics_lectures/fun_with_textures.html">
          Fun with Textures
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/fun_with_textures/skybox.html" title="Skybox" class="dd-item ">
        <a href="../CF/graphics_lectures/fun_with_textures/skybox.html">
        Skybox
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/fun_with_textures/normal_displacement_mapping.html" title="Normal and Displacement Mapping" class="dd-item ">
        <a href="../CF/graphics_lectures/fun_with_textures/normal_displacement_mapping.html">
        Normal and Displacement Mapping
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/CF/graphics_lectures/graphical_user_interface.html" title="Graphical User Interface - GUI" class="dd-item
        
        
        
        ">
      <a href="../CF/graphics_lectures/graphical_user_interface.html">
          Graphical User Interface - GUI
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/graphical_user_interface/dear_imgui.html" title="Dear ImGUI" class="dd-item ">
        <a href="../CF/graphics_lectures/graphical_user_interface/dear_imgui.html">
        Dear ImGUI
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/graphics_lectures/graphical_user_interface/text_rendering.html" title="Text Rendering" class="dd-item ">
        <a href="../CF/graphics_lectures/graphical_user_interface/text_rendering.html">
        Text Rendering
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/CF/showcase.html" title="Showcase" class="dd-item
        
        
        
        ">
      <a href="../CF/showcase.html">
          Showcase
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/CF/showcase/checkpoin_race.html" title="Checkpoint Race" class="dd-item ">
        <a href="../CF/showcase/checkpoin_race.html">
        Checkpoint Race
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/showcase/flappy_bird_reimagined.html" title="Flappy Bird Reimagined" class="dd-item ">
        <a href="../CF/showcase/flappy_bird_reimagined.html">
        Flappy Bird Reimagined
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/showcase/mapbuilder.html" title="Map-Builder Prototype" class="dd-item ">
        <a href="../CF/showcase/mapbuilder.html">
        Map-Builder Prototype
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/showcase/licenses_showcases.html" title="Licenses" class="dd-item ">
        <a href="../CF/showcase/licenses_showcases.html">
        Licenses
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/CF/how_to_contribute.html" title="How to contribute" class="dd-item
        
        
        
        ">
      <a href="../CF/how_to_contribute.html">
          How to contribute
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/CF/how_to_contribute/markdown_guide.html" title="Markdown Guide" class="dd-item ">
        <a href="../CF/how_to_contribute/markdown_guide.html">
        Markdown Guide
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/how_to_contribute/shortcodes.html" title="Shortcodes" class="dd-item ">
        <a href="../CF/how_to_contribute/shortcodes.html">
        Shortcodes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/CF/how_to_contribute/about_this_site.html" title="About This Site" class="dd-item ">
        <a href="../CF/how_to_contribute/about_this_site.html">
        About This Site
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/CrossForge/CrossForge"><i class='fab fa-github'></i> Github repo</a>
              </li>
          
              <li>
                  <a class="padding" href="https://www.tu-chemnitz.de/informatik/GDV/"><i class='fas fa-bookmark'></i> TU Chemnitz</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../CF/'>Introduction</a> > <a href='../CF/advanced_concepts.html'>Advanced Concepts</a> > Multi Viewport
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
        <li><a href="#with-that-here-a-litte-review-of-what-we-created">With that here a litte review of what we created</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Multi Viewport
            </h1>
          

        



<h4 id="when-viewing-your-creations-normally-one-viewport-is-all-you-need-but-if-needed-crossforge-also-supports-multiple-viewports">When viewing your creations, normally one viewport is all you need, but if needed Crossforge also supports multiple Viewports.</h4>
<p>Mainly there are two ways of achieving multiple Viewports, the first way is by using one scenegraph and multiple virtual cameras, the second way is by using multiple scenegraphs with one camera setup.</p>
<h5 id="1-multiple-scenegraphs">1) Multiple scenegraphs</h5>
<p>First off we begin with the way of using <em>multiple scenegraphs</em>, but why would you want to use this way?</p>
<p>Using multiple scene graphs can be useful when you want to compare different objects or models in the same scene with the same camera perspective.</p>
<p>First we need to initialize the variables in the protected section:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>	SceneGraph m_SGs[<span style="color:#ae81ff">4</span>];
</span></span><span style="display:flex;"><span>	SGNTransformation m_RootSGNs[<span style="color:#ae81ff">4</span>];
</span></span></code></pre></div><p>To build multiple scenegraphs we can use a for loop inside of the <strong>init</strong> section:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint8_t</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>	m_RootSGNs[i].init(<span style="color:#66d9ef">nullptr</span>);
</span></span><span style="display:flex;"><span>	m_SGs[i].init(<span style="color:#f92672">&amp;</span>m_RootSGNs[i]);
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><p>Within the loop we can create objects for each scenegraph <em>simultaneously</em>, for example lets add a helmet:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint8_t</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>	m_RootSGNs[i].init(<span style="color:#66d9ef">nullptr</span>);
</span></span><span style="display:flex;"><span>	m_SGs[i].init(<span style="color:#f92672">&amp;</span>m_RootSGNs[i]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    m_HelmetTransSGNs[i].init(<span style="color:#f92672">&amp;</span>m_RootSGNs[i], Vector3f(<span style="color:#ae81ff">0.0f</span>, <span style="color:#ae81ff">3.5f</span>, <span style="color:#ae81ff">0.0f</span>));
</span></span><span style="display:flex;"><span>	m_HelmetGeomSGNs[i].init(<span style="color:#f92672">&amp;</span>m_HelmetTransSGNs[i], <span style="color:#f92672">&amp;</span>m_Helmet, Vector3f<span style="color:#f92672">::</span>Zero(), Quaternionf<span style="color:#f92672">::</span>Identity(), Vector3f(<span style="color:#ae81ff">3.0f</span>, <span style="color:#ae81ff">3.0f</span>, <span style="color:#ae81ff">3.0f</span>));
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><p>The helmet is a single <strong>StaticActor</strong>, but for every instance of it we need transformation and geometry nodes, all need to be initialized first in the <strong>protected</strong> section:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>	StaticActor m_Helmet;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	SGNTransformation m_HelmetTransSGNs[<span style="color:#ae81ff">4</span>];
</span></span><span style="display:flex;"><span>	SGNGeometry m_HelmetGeomSGNs[<span style="color:#ae81ff">4</span>];
</span></span></code></pre></div><p>Also the helmet needs to be loaded beforehand inside the init function:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>	T3DMesh<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">float</span><span style="color:#f92672">&gt;</span> M;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	SAssetIO<span style="color:#f92672">::</span>load(<span style="color:#e6db74">&#34;Assets/ExampleScenes/Helmet/DamagedHelmet.gltf&#34;</span>, <span style="color:#f92672">&amp;</span>M);
</span></span><span style="display:flex;"><span>	setMeshShader(<span style="color:#f92672">&amp;</span>M, <span style="color:#ae81ff">0.2f</span>, <span style="color:#ae81ff">0.24f</span>);
</span></span><span style="display:flex;"><span>	M.computePerVertexNormals();
</span></span><span style="display:flex;"><span>	M.computePerVertexTangents();
</span></span><span style="display:flex;"><span>	m_Helmet.init(<span style="color:#f92672">&amp;</span>M);
</span></span><span style="display:flex;"><span>	M.clear();
</span></span></code></pre></div><p>Now let us try to make each helmet in these scenegraphs rotate with the same speed but around different axes, for that we need to create these rotation values before the loop:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>    <span style="color:#66d9ef">float</span> Speed <span style="color:#f92672">=</span> <span style="color:#ae81ff">10.0f</span>; <span style="color:#75715e">// Degree per second
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	Quaternionf HelmetRotationDeltas[<span style="color:#ae81ff">4</span>];
</span></span><span style="display:flex;"><span>	HelmetRotationDeltas[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> AngleAxisf(GraphicsUtility<span style="color:#f92672">::</span>degToRad(Speed <span style="color:#f92672">/</span> <span style="color:#ae81ff">60.0f</span>), Vector3f<span style="color:#f92672">::</span>UnitX());
</span></span><span style="display:flex;"><span>	HelmetRotationDeltas[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> AngleAxisf(GraphicsUtility<span style="color:#f92672">::</span>degToRad(Speed <span style="color:#f92672">/</span> <span style="color:#ae81ff">60.0f</span>), Vector3f<span style="color:#f92672">::</span>UnitY());
</span></span><span style="display:flex;"><span>	HelmetRotationDeltas[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> AngleAxisf(GraphicsUtility<span style="color:#f92672">::</span>degToRad(Speed <span style="color:#f92672">/</span> <span style="color:#ae81ff">60.0f</span>), Vector3f<span style="color:#f92672">::</span>UnitZ());
</span></span><span style="display:flex;"><span>	HelmetRotationDeltas[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> AngleAxisf(GraphicsUtility<span style="color:#f92672">::</span>degToRad(Speed <span style="color:#f92672">/</span> <span style="color:#ae81ff">60.0f</span>), Vector3f(<span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">1.0f</span>).normalized());
</span></span></code></pre></div><p>And lastly let us add the rotation in the for-loop:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint8_t</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>	m_RootSGNs[i].init(<span style="color:#66d9ef">nullptr</span>);
</span></span><span style="display:flex;"><span>	m_SGs[i].init(<span style="color:#f92672">&amp;</span>m_RootSGNs[i]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    m_HelmetTransSGNs[i].init(<span style="color:#f92672">&amp;</span>m_RootSGNs[i], Vector3f(<span style="color:#ae81ff">0.0f</span>, <span style="color:#ae81ff">3.5f</span>, <span style="color:#ae81ff">0.0f</span>));
</span></span><span style="display:flex;"><span>	m_HelmetGeomSGNs[i].init(<span style="color:#f92672">&amp;</span>m_HelmetTransSGNs[i], <span style="color:#f92672">&amp;</span>m_Helmet, Vector3f<span style="color:#f92672">::</span>Zero(), Quaternionf<span style="color:#f92672">::</span>Identity(), Vector3f(<span style="color:#ae81ff">3.0f</span>, <span style="color:#ae81ff">3.0f</span>, <span style="color:#ae81ff">3.0f</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    m_HelmetTransSGNs[i].rotationDelta(HelmetRotationDeltas[i]);
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><p>To view the newly created scenegraphs we need to create viewports, one for the GBuffer and four for the scenegraphs we created</p>
<p>For that we initialize those viewports in the <strong>protected</strong> section:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>	RenderDevice<span style="color:#f92672">::</span>Viewport m_GBufferVP;
</span></span><span style="display:flex;"><span>	RenderDevice<span style="color:#f92672">::</span>Viewport m_VPs[<span style="color:#ae81ff">4</span>];
</span></span></code></pre></div><p>Next set the viewport for the GBuffer <em>after the for-loop</em> from before:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>	_GBufferVP.Position <span style="color:#f92672">=</span> Vector2i(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);	
</span></span><span style="display:flex;"><span>	m_GBufferVP.Size <span style="color:#f92672">=</span> Vector2i(m_RenderDev.gBuffer()<span style="color:#f92672">-&gt;</span>width(), m_RenderDev.gBuffer()<span style="color:#f92672">-&gt;</span>height());
</span></span><span style="display:flex;"><span>	m_RenderDev.viewport(RenderDevice<span style="color:#f92672">::</span>RENDERPASS_GEOMETRY, m_GBufferVP);
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//and lets add the function we will write later for updating our viewports
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	updateViewportsAndCamera();
</span></span></code></pre></div><p>With that done, lets switch to the run function where our rendering is handled, here we add another for-loop to perform the rendering of the four viewports:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint8_t</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>; <span style="color:#f92672">++</span>i) {
</span></span><span style="display:flex;"><span>	m_SGs[i].update(<span style="color:#ae81ff">60.0f</span> <span style="color:#f92672">/</span> m_FPS);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	m_RenderDev.activePass(RenderDevice<span style="color:#f92672">::</span>RENDERPASS_SHADOW, <span style="color:#f92672">&amp;</span>m_Sun);
</span></span><span style="display:flex;"><span>	m_SGs[i].render(<span style="color:#f92672">&amp;</span>m_RenderDev);
</span></span><span style="display:flex;"><span>	m_RenderDev.activePass(RenderDevice<span style="color:#f92672">::</span>RENDERPASS_GEOMETRY);
</span></span><span style="display:flex;"><span>	m_SGs[i].render(<span style="color:#f92672">&amp;</span>m_RenderDev);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	m_RenderDev.viewport(RenderDevice<span style="color:#f92672">::</span>RENDERPASS_LIGHTING, m_VPs[i]);
</span></span><span style="display:flex;"><span>	m_RenderDev.activePass(RenderDevice<span style="color:#f92672">::</span>RENDERPASS_LIGHTING, <span style="color:#66d9ef">nullptr</span>, (i <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">?</span> true <span style="color:#f92672">:</span> false);
</span></span><span style="display:flex;"><span>	}
</span></span></code></pre></div><p>Lastly lets align those four viewports and update them via a function called <strong>updateViewportsAndCamera()</strong> inside the protected section:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">updateViewportsAndCamera</span>(<span style="color:#66d9ef">void</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">uint32_t</span> RenderWinWidth <span style="color:#f92672">=</span> m_RenderWin.width();
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">uint32_t</span> RenderWinHeight <span style="color:#f92672">=</span> m_RenderWin.height();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">uint32_t</span> Margin <span style="color:#f92672">=</span> <span style="color:#ae81ff">14</span>;
</span></span><span style="display:flex;"><span>	Vector2i VPSize <span style="color:#f92672">=</span> Vector2i(RenderWinWidth <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>, RenderWinHeight <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> Vector2i(Margin, Margin) <span style="color:#f92672">+</span> Vector2i(Margin <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>, Margin <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// Top left
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	m_VPs[<span style="color:#ae81ff">0</span>].Position <span style="color:#f92672">=</span> Vector2i(<span style="color:#ae81ff">0</span>, RenderWinHeight <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">+</span> Vector2i(Margin, Margin <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// top right
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	m_VPs[<span style="color:#ae81ff">1</span>].Position <span style="color:#f92672">=</span> Vector2i(RenderWinWidth <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>, RenderWinHeight <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">+</span> Vector2i(Margin <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>, Margin <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// bottom left
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	m_VPs[<span style="color:#ae81ff">2</span>].Position <span style="color:#f92672">=</span> Vector2i(Margin, Margin);
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// bottom right
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	m_VPs[<span style="color:#ae81ff">3</span>].Position <span style="color:#f92672">=</span> Vector2i(RenderWinWidth <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>) <span style="color:#f92672">+</span> Vector2i(Margin <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>, Margin);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">uint8_t</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">4</span>; <span style="color:#f92672">++</span>i) 
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			m_VPs[i].Size <span style="color:#f92672">=</span> VPSize;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	m_Cam.projectionMatrix(m_VPs[<span style="color:#ae81ff">0</span>].Size[<span style="color:#ae81ff">0</span>], m_VPs[<span style="color:#ae81ff">0</span>].Size[<span style="color:#ae81ff">1</span>], GraphicsUtility<span style="color:#f92672">::</span>degToRad(<span style="color:#ae81ff">45.0f</span>), <span style="color:#ae81ff">0.1f</span>, <span style="color:#ae81ff">1000.0f</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	m_GBufferVP.Size <span style="color:#f92672">=</span> Vector2i(m_RenderDev.gBuffer()<span style="color:#f92672">-&gt;</span>width(), m_RenderDev.gBuffer()<span style="color:#f92672">-&gt;</span>height());
</span></span><span style="display:flex;"><span>	m_RenderDev.viewport(RenderDevice<span style="color:#f92672">::</span>RENDERPASS_GEOMETRY, m_GBufferVP);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">// viewport for forward pass (required for correct screenshots)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	RenderDevice<span style="color:#f92672">::</span>Viewport VFPass;
</span></span><span style="display:flex;"><span>	VFPass.Position <span style="color:#f92672">=</span> Vector2i(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>	VFPass.Size <span style="color:#f92672">=</span> Vector2i(RenderWinWidth, RenderWinHeight);
</span></span><span style="display:flex;"><span>	m_RenderDev.viewport(RenderDevice<span style="color:#f92672">::</span>RENDERPASS_FORWARD, VFPass);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	}<span style="color:#75715e">//updateViewports
</span></span></span></code></pre></div><h3 align="center" id="with-that-here-a-litte-review-of-what-we-created">With that here a litte review of what we created</h3>
<p><img src="../multible_viewports.gif" alt="multiple view ports scene as a gif"></p>
<h5 id="2-multiple-virtual-cameras">2) Multiple virtual cameras</h5>
<p>The second way is using <em>multiple virtual cameras</em>, which can be useful if you want different perspectives or for example when creating virtual reality applications to simulate stereoscopic vision.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../CF/js/clipboard.min.js?1701724215"></script>
    <script src="../CF/js/perfect-scrollbar.min.js?1701724215"></script>
    <script src="../CF/js/perfect-scrollbar.jquery.min.js?1701724215"></script>
    <script src="../CF/js/jquery.sticky.js?1701724215"></script>
    <script src="../CF/js/featherlight.min.js?1701724215"></script>
    <script src="../CF/js/highlight.pack.js?1701724215"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../CF/js/modernizr.custom-3.6.0.js?1701724215"></script>
    <script src="../CF/js/learn.js?1701724215"></script>
    <script src="../CF/js/hugo-learn.js?1701724215"></script>
    
        
            <script src="../CF/mermaid/mermaid.js?1701724215"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

